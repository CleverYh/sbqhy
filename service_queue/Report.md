# 服务队列模拟

19335025 陈禹翰 chenyh369@mail2.sysu.edu.cn  10月1日

#### 摘要 

本实验模拟一个五个窗口的银行队列。

#### 引言

要解决的问题：设计一个程序，输入是一个英文文本文件和一个关键词文件，输出是文件中关键词出现的所有位置（行号）。

#### 解决方法



1. 顾客类：
   1. 随机的服务时间
   2. 他的顺序号
   3. 等待时间

2. 窗口类
   1. 窗口编号
   2. 正在办理
   3. 已经处理的顾客数量
   4. 当前进程（事务）剩余时间
3. 银行类
   1. 五个窗口
   2. 一个队列
   3. 正在等待的人数
   4. 当前队列等待时间累计
   5. 总共等待时间累计
   6. 总人次

运行形式：

```powershell

```

算法：

1. 初始化

2. 进入while(!kbhit()){

    1. new一个随机类

    2. for循环五个窗口{

        	1. 每个窗口判断当前事务剩余时间，小于等于1则把队列front那个人叫到窗口前，就是把他的信息什么的赋值一下，然后pop队列；
        	2. 若大于1则剩余时间--；

       }

   3. 随机生成刚来的顾客人数并且循环对每一位客人进行随机赋值，然后给号（总人次的数量就是这个顺序号码）入队；
   4. 打印各个窗口的情况并且休眠一段时间清屏然后继续循环直至按下按键退出；

}



#### 程序使用和测试说明

使用g++编译：

```powershell
g++ .\count.cpp -o count.exe
```

 运行：

```powershell
.\count.exe .\inputfile .\keysfile .\outputfile
```



#### 总结和讨论

我的实现特色在于我过滤了除了英文字母大小写之外的其他字符，并且在搜索到一行后立刻进入下一行。我还实现了精确位置的索引（但是没啥用）。存在的问题是对于输入输出流掌握不够熟练。通过这次实验我学会了使用main函数的参数，并且学习了一些文件操作。

#### 参考文献

[命令行参数如何运行](https://zhidao.baidu.com/question/280662774.html)

[在c++中，如果在使用ifstream读入文件的时候，如何读入换行符('\n')？](https://zhidao.baidu.com/question/120769465.html)

[C++文件和流](https://www.runoob.com/cplusplus/cpp-files-streams.html)

[C++ 如何在一个文件末端添加信息](https://blog.csdn.net/weixin_48134278/article/details/107940580)

